<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>videojs</title>
    <link href="https://unpkg.com/video.js@7.7.5/dist/video-js.min.css" rel="stylesheet" />
</head>

<body>
    <video-js id="my-video" class="video-js" autoplay muted preload="auto" data-setup="">
    </video-js>

    <script src="https://unpkg.com/video.js@7.7.5/dist/video.min.js"></script>
    <script src="https://unpkg.com/flv.js@1.5.0/dist/flv.min.js"></script>
    <script src="https://unpkg.com/videojs-flvjs@0.2.0/dist/videojs-flvjs.min.js"></script>

    <script>
        var player = videojs(
            "my-video",
            {
                controls: false,
                bigPlayButton: false,
                autoplay: 'muted',
                preload: 'auto',
                width: 800,
                height: 640,
                flvjs: {
                    mediaDataSource: {
                        isLive: true,
                        withCredentials: false,
                        hasAudio: false,
                        hasVideo: true,
                        type: 'flv'
                    },
                    config: {
                        enableStashBuffer: true,
                        enableWorker: false,
                        lazyLoad: false,
                        seekType: 'range'
                    }
                },
            },
            function onPlayerReady() {
                videojs.log("Your player is ready!");
                console.log(this
                    .tech({ IWillNotUseThisInPlugins: true }))
                this
                    .tech({ IWillNotUseThisInPlugins: true })
                    .flvPlayer.on(flvjs.Events.STATISTICS_INFO, (metadata) =>
                        console.log(metadata)
                    );
            }
        );
        player.src({
            fluid: true,
            src: 'http://ffplayout.local/preview/stream.flv',
            type: 'video/x-flv'
        })
    </script>
</body>

</html>
